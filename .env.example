# ==============================================================================
# DYNAMIC LINKS APPLICATION ENVIRONMENT CONFIGURATION
# ==============================================================================
#
# This file contains environment variables for the Dynamic Links application.
# Copy this file to .env and modify the values as needed for your environment.

# ==============================================================================
# RAILS APPLICATION CONFIGURATION
# ==============================================================================

# Environment settings (development, test, production)
RAILS_ENV=development
NODE_ENV=development

# Generate a secure secret by running: rails secret
# WARNING: This is an insecure key for development only.
# Generate a new one for production using: rails secret
SECRET_KEY_BASE=insecure_key_for_dev

# ==============================================================================
# RAILS APPLICATION SERVER CONFIGURATION
# ==============================================================================

# Puma server configuration
# The bind port for puma (default: 3000)
PORT=3000

# Worker and thread configuration
# WEB_CONCURRENCY defaults to server's CPU count * 2
# In development, use 1 to avoid race conditions when debugging
# In production, set these values according to your server's capacity
WEB_CONCURRENCY=1
RAILS_MAX_THREADS=1

# Host URL for Rails functionality requiring absolute URLs
# In production this should match your domain name (e.g., example.com)
URL_HOST=localhost:3000

# Whether Rails should serve static files from public/ in production
# Generally disabled in production as nginx typically handles static files
#RAILS_SERVE_STATIC_FILES=

# ==============================================================================
# ACTION CABLE CONFIGURATION
# ==============================================================================

# Action Cable port (default: 28080)
CABLE_PORT=28080

# Action Cable frontend URL
# In production, typically reverse proxied to a subdomain with nginx
# Example: ws://cable.example.com
ACTION_CABLE_FRONTEND_URL=ws://localhost:28080

# Action Cable allowed request origins (comma-separated RegExp patterns)
# Examples:
#   http:\/\/localhost*
#   http:\/\/example.*,https:\/\/example.*
ACTION_CABLE_ALLOWED_REQUEST_ORIGINS=http:\/\/localhost*

# ==============================================================================
# DATABASE CONFIGURATION (POSTGRESQL)
# ==============================================================================

# PostgreSQL connection settings
# WARNING: Using weak password for development only. Use a strong password in production.
POSTGRES_DB=dynamic_links_development
POSTGRES_USER=rails_dynamic_links_user
POSTGRES_PASSWORD=hardcoded_password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================

# Redis connection settings
# Used for caching, Sidekiq, and Action Cable
# Note: Update this if you change the Redis host or port
REDIS_URL=redis://redis:6379/1
REDIS_HOST=redis

# ==============================================================================
# ELASTIC APM CONFIGURATION (OPTIONAL)
# ==============================================================================

# Enable or disable Elastic APM monitoring
ELASTIC_APM_ENABLED=false

# Elastic APM server URL (only used if ELASTIC_APM_ENABLED=true)
ELASTIC_APM_SERVER_URL=http://localhost:8200

# Elastic APM service name
ELASTIC_APM_SERVICE_NAME=rails-dynamic-links

# Elastic APM environment
ELASTIC_APM_ENVIRONMENT=development

PLATFORM_ADMIN_EMAIL=admin@railswizard.dev
PLATFORM_ADMIN_PASSWORD=hardcoded_password
